---
title: "independentSamplesTTest: Hays (1974) example"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{  }
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE, purl = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction

This example shows `independentSamplesTTest` from `jaspTTests`.

An example from Hays (1974, pp. 404-407):

> An experimenter working in the area of motivational factors in perception was interested in the effects of deprivation upon the perceived size of objects. Among the studies carried out was one done with orphans, who were compared with nonorphaned children on the basis of the judged size of parental figures viewed at a distance. [...]Now two independent randomly selected groups were used. Sample 1 was a group of orphaned children without foster parents. Sample 2 was a group of children having a normal family with both parents. Both population of children sampled showed the same age level, sex distribution, educational level, and so forth. The question asked by the experimenter was 'Do deprived children tend to judge the parental figures relatively larger than do the nondeprived?' In terms of a null and alternative hypothesis,
<br>
H~0~: $\mu$~1~ - $\mu$~2~ $\le 0$
<br>
H~1~: $\mu$~1~ - $\mu$~2~ $> 0$.
<br>
The $\alpha$ level for significance decided upon was .05. The actual results were
<br>
*Sample 1:* M~1~ = 1.8; S1~ = .7; N~1~ = 125
<br>
*Sample 2:* M~2~ = 1.6; S2~ = .9; N~2~ = 150


## Data

<!-- Describe here the dataset (where does it come from, what it contains, etc) -->

**Note**: A data set with these properties has been simulated using R.

```{r load-data, purl = TRUE}
set.seed(1)
m1 <- scale(rnorm(125)) * 0.7 + 1.8
m2 <- scale(rnorm(150)) * 0.9 + 1.6
data <- data.frame(
  size   = c(m1, m2), 
  family = rep(c("no", "yes"), times = c(125, 150))
)
head(data) |> knitr::kable(caption = "First five rows of the data.")
```

## Analysis

<!-- Describe here what is the objective of the analysis (what part of the analysis is of importance) -->
<!-- You can also display results from other analysis programs -->

### Manual results

Calculations by hand can be found in Hays, 1974, pp. 404-407.

Result: t = 2.11

Significant (two-tailed test) for $\alpha$ = .05 or less


<!-- ### SPSS results -->

### Results using R

```{r run-r-analysis}
t.test(formula = size~family, data = data)
```

### JASP results

The analysis can be run as follows:

```{r run-jasp-analysis, purl = TRUE}
set.seed(1)
results <- jaspTTests::independentSamplesTTest(
  data      = data, 
  dependent = "size", 
  groupBy   = "family"
)
results$ttest |> knitr::kable(caption = "Results of the JASP analysis.")
```


<!-- Write here unit tests -->

```{r unit-tests, purl = TRUE, eval=FALSE, echo=FALSE}
testthat::test_that("Hays (1974) example works", {
  # jaspTools::expect_jasp_table(results[["mainTable"]])
  # jaspTools::expect_jasp_plot (results[["mainPlot"]] )
})
```
